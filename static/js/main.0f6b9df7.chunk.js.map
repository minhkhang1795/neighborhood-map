{"version":3,"sources":["MapComponent.js","SearchBar.js","SearchResult.js","PanelComponent.js","ErrorBoundary.js","PlaceAPI.js","App.js","serviceWorker.js","index.js"],"names":["MapComponent","compose","withProps","googleMapURL","loadingElement","react_default","a","createElement","style","height","containerElement","mapElement","withScriptjs","withGoogleMap","props","lib","defaultZoom","defaultCenter","ll","defaultOptions","DEFAULT_OPTION","isMarkerShown","places","constructor","Array","map","place","key","venue","id","position","lat","location","lng","onClick","onMarkerClick","animation","focusedPlace","window","google","maps","Animation","BOUNCE","onCloseClick","onToggleClose","className","tabIndex","name","formattedAddress","bestPhoto","src","prefix","suffix","alt","MyMapComponent","_this","this","onUpdateFocusedPlace","clearFocusedPlace","React","PureComponent","mapTypeControl","styles","featureType","elementType","stylers","visibility","color","lightness","gamma","weight","saturation","hue","SearchBar","isHidden","role","type","aria-label","placeholder","value","query","onChange","e","onQueryChange","Component","SearchResult","handleOnKeyPressed","_this2","onKeyPress","PanelComponent","state","preventDefault","refs","hideButton","setState","ref","openPanel","src_SearchBar","length","src_SearchResult","closePanel","ErrorBoundary","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","hasError","error","info","children","BASE_URL","CLIENT_ID","CLIENT_SECRET","gm_authFailure","alert","App","showError","fetchPlaces","trim","long","fetch","concat","then","res","json","data","response","groups","items","PlaceAPI","catch","index","findIndex","updated","fetchFocusedPlaceDetail","venueID","_this3","ctx","showingPlaces","_this4","_this$state","match","RegExp","escapeRegExp","filter","test","onCloseErrorModal","src_ErrorBoundary","src_MapComponent","updateFocusedPlace","src_PanelComponent","updateQuery","target","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","WebFont","load","families","ReactDOM","render","BrowserRouter","basename","src_App_0","document","getElementById","URL","process","origin","addEventListener","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.0f6b9df7.chunk.js","sourcesContent":["import React from \"react\"\nimport {compose, withProps} from \"recompose\"\nimport {withScriptjs, withGoogleMap, GoogleMap, Marker, InfoWindow} from \"react-google-maps\"\n\nconst MapComponent = compose(\n  withProps({\n    googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCx7CZ1P0YdqirwlJ4jPdrMO20NQwSPkbI&v=3.exp&libraries=geometry,drawing,places\",\n    loadingElement: <div style={{height: `100%`}}/>,\n    containerElement: <div style={{height: `100%`}}/>,\n    mapElement: <div style={{height: `100%`}}/>,\n  }),\n  withScriptjs,\n  withGoogleMap\n)((props) =>\n  <GoogleMap\n    defaultZoom={15}\n    defaultCenter={props.ll}\n    defaultOptions={DEFAULT_OPTION}>\n\n    {/* Add markers based on props.places. onMarkerClick() updates focusedPlace in the parent component */}\n    {props.isMarkerShown && props.places && props.places.constructor === Array && props.places.map((place) =>\n      <Marker key={place.venue.id}\n              position={{lat: place.venue.location.lat, lng: place.venue.location.lng}}\n              onClick={() => props.onMarkerClick(place.venue.id)}\n              animation={props.focusedPlace ? props.focusedPlace.id === place.venue.id ? window.google.maps.Animation.BOUNCE : null : null}>\n        {/* Add info window of the focused place */}\n        {props.focusedPlace && props.focusedPlace && props.focusedPlace.location && props.focusedPlace.id === place.venue.id &&\n        <InfoWindow position={{lat: props.focusedPlace.location.lat, lng: props.focusedPlace.location.lng}}\n                    onCloseClick={props.onToggleClose}>\n          <div className=\"info-window\" tabIndex={0}>\n            <h3>{props.focusedPlace.name}</h3>\n            <p>{props.focusedPlace.location.formattedAddress[0] + (props.focusedPlace.location.formattedAddress[1] ?\n              ', ' + props.focusedPlace.location.formattedAddress[1] : '')}</p>\n            {props.focusedPlace.bestPhoto &&\n            <img src={props.focusedPlace.bestPhoto.prefix + `300x300` + props.focusedPlace.bestPhoto.suffix}\n                 alt={`Image of ` + props.focusedPlace.name}/>}\n          </div>\n        </InfoWindow>}\n      </Marker>)}\n  </GoogleMap>\n);\n\nclass MyMapComponent extends React.PureComponent {\n\n  render() {\n    return (\n      <MapComponent\n        ll={this.props.ll}\n        isMarkerShown={this.props.isMarkerShown}\n        places={this.props.places}\n        focusedPlace={this.props.focusedPlace}\n        onMarkerClick={(id) => this.props.onUpdateFocusedPlace(id)}\n        onToggleClose={this.props.clearFocusedPlace}\n      />\n    )\n  }\n}\n\n// Map style\nconst DEFAULT_OPTION = {\n  mapTypeControl: false, styles: [{\n    \"featureType\": \"administrative\",\n    \"elementType\": \"all\",\n    \"stylers\": [{\n      \"visibility\": \"off\"\n    }]\n  },\n    {\n      \"featureType\": \"poi\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    },\n    {\n      \"featureType\": \"road\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    },\n    {\n      \"featureType\": \"transit\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    },\n    {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    },\n    {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    },\n    {\n      \"featureType\": \"road.local\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }]\n    },\n    {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }]\n    },\n    {\n      \"featureType\": \"road.arterial\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"color\": \"#5f94ff\"\n      },\n        {\n          \"lightness\": 26\n        },\n        {\n          \"gamma\": 5.86\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road.highway\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"weight\": 0.6\n      },\n        {\n          \"saturation\": -85\n        },\n        {\n          \"lightness\": 61\n        }\n      ]\n    },\n    {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"hue\": \"#0066ff\"\n      },\n        {\n          \"saturation\": 74\n        },\n        {\n          \"lightness\": 100\n        }\n      ]\n    }\n  ]\n};\n\nexport default MyMapComponent","import React, {Component} from 'react';\n\nclass SearchBar extends Component {\n  render() {\n    return (\n      <div tabIndex={this.props.isHidden ? -1 : 0} role={'search'} className=\"panel-top\">\n        <i className=\"fas fa-search common-icon\"/>\n        <input tabIndex={this.props.isHidden ? -1 : 0} className=\"searchbar-input\"\n               type=\"search\"\n               aria-label={'Search your neighborhood'}\n               placeholder=\"Search your neighborhood\"\n               value={this.props.query}\n               onChange={(e) => this.props.onQueryChange(e)}\n        />\n      </div>\n    )\n  }\n\n}\n\nexport default SearchBar","import React, {Component} from 'react';\n\nclass SearchResult extends Component {\n\n  /*\n  Function to handle Enter key pressed on a list item\n   */\n  handleOnKeyPressed = function(e, place) {\n    if (e.key === \"Enter\")\n      this.props.onUpdateFocusedPlace(place.venue.id);\n  };\n\n  render() {\n    const {places} = this.props;\n\n    return (\n      <div className=\"search-result-grid\">\n        <ol tabIndex={this.props.isHidden ? -1 : 0}>\n          {places && places.constructor === Array && places.map((place) =>\n            <li tabIndex={this.props.isHidden ? -1 : 0}\n                key={place.venue.id}\n                onClick={() => this.props.onUpdateFocusedPlace(place.venue.id)}\n                onKeyPress={(e) => this.handleOnKeyPressed(e, place)}\n            >{place.venue.name}</li>\n          )}\n        </ol>\n      </div>\n    )\n  }\n}\n\nexport default SearchResult","import React, {Component} from 'react';\nimport SearchBar from \"./SearchBar\";\nimport SearchResult from \"./SearchResult\";\n\nclass PanelComponent extends Component {\n\n  state = {\n    visibility: 'show'\n  };\n\n  closePanel(e) {\n    e.preventDefault();\n    this.refs.hideButton.tabIndex = -1;\n    this.setState({visibility: 'hide'});\n  }\n\n  openPanel(e) {\n    e.preventDefault();\n    this.refs.hideButton.tabIndex = 0;\n    this.setState({visibility: 'show'});\n  }\n\n  render() {\n    return (\n      <div>\n        {/* Open button to show the sliding panel */}\n        {this.state.visibility === 'hide' && <button ref=\"showButton\"\n                                                     className=\"panel-show-btn\"\n                                                     aria-label={'show button'}\n                                                     onClick={(e) => this.openPanel(e)}>\n          <i className=\"fas fa-chevron-right common-icon\"/>\n        </button>}\n\n        {/* Search bar and result list go here*/}\n        <div className={'panel-content ' + this.state.visibility}>\n          <div className=\"panel-main\">\n            <SearchBar query={this.props.query}\n                       onQueryChange={(e) => this.props.onQueryChange(e)}\n                       isHidden={this.state.visibility === 'hide'}/>\n\n            {this.props.places.length === 0 && <p tabIndex={this.props.isHidden ? -1 : 0}\n                                                  className=\"filter-no-result\">No results found.</p>}\n\n            <SearchResult onUpdateFocusedPlace={(id) => this.props.onUpdateFocusedPlace(id)}\n                          places={this.props.places}\n                          isHidden={this.state.visibility === 'hide'}/>\n          </div>\n\n          {/* Close button to hide the panel */}\n          <div className=\"panel-bottom\">\n            <button ref=\"hideButton\" className=\"panel-hide-btn\" onClick={(e) => this.closePanel(e)}>\n              <i className=\"fas fa-chevron-left common-icon\"/> Hide\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PanelComponent","import React from 'react';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {hasError: false};\n  }\n\n  componentDidCatch(error, info) {\n    this.setState({hasError: true});\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"gm-error-infobox\">\n          <h1>\n            Oops! Something went wrong.\n          </h1>\n          <p>This page didn't load Google Maps correctly. See the JavaScript console\n            for technical details.\n          </p>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","const BASE_URL = \"https://api.foursquare.com/v2\",\n  CLIENT_ID = \"VE10SB3UPIQ23AG3G5AIEHOPDIQKWO1BZXZTK3LOI0HWTS4G\",\n  CLIENT_SECRET = \"RUWR5CLLYIUMKWN3X1W0P2VX1KRQALEIPR4SPRWSN3C4W0PU\";\n\n\nexport const explore = (lat, long, query) =>\n  fetch(`${BASE_URL}/venues/explore/?client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&v=20180323&limit=25&ll=${lat},${long}&query=${query}`)\n    .then(res => res.json())\n    .then(data => {\n      if (data && data.response && data.response.groups)\n        return data.response.groups[0].items;\n      else\n        return null;\n    });\n\nexport const getDetails = (venueID) =>\n  fetch(`${BASE_URL}/venues/${venueID}/?client_id=${CLIENT_ID}&client_secret=${CLIENT_SECRET}&v=20180323`)\n    .then(res => res.json())\n    .then(data => {\n      if (data && data.response)\n        return data.response.venue;\n      else\n        return null;\n    });","import React, {Component} from 'react';\nimport './App.css';\nimport escapeRegExp from 'escape-string-regexp'\nimport MyMapComponent from \"./MapComponent\";\nimport PanelComponent from \"./PanelComponent\";\nimport ErrorBoundary from \"./ErrorBoundary\";\nimport * as PlaceAPI from './PlaceAPI'\n\nconst lat = 42.3784207, lng = -71.1304621;\n\nwindow.gm_authFailure = () => {\n  alert(\"Cannot connect to Google Maps service.\")\n};\n\nclass App extends Component {\n\n  state = {\n    places: [],\n    focusedPlace: null,\n    query: '',\n    showError: false\n  };\n\n  componentDidMount() {\n    this.fetchPlaces('coffee');\n  }\n\n  updateQuery(query) {\n    this.setState({query: query.trim()});\n  }\n\n  fetchPlaces(query) {\n    PlaceAPI.explore(lat, lng, query).then((places) => {\n      if (places) {\n        this.setState({places: places, showError: false});\n      } else\n        this.setState({showError: true});\n    }).catch((e) => {\n      this.setState({showError: true});\n    });\n  }\n\n  updateFocusedPlace(id) {\n    let places = this.state.places;\n    const index = places.findIndex(place => place.venue.id === id);\n    if (index >= 0) {\n      this.setState({focusedPlace: places[index].venue});\n      if (!places[index].venue.updated) {\n        this.fetchFocusedPlaceDetail(id, index, places); // Fetch data from Foursquare\n      }\n    }\n  }\n\n  fetchFocusedPlaceDetail(id, index, places) {\n    const ctx = this;\n    PlaceAPI.getDetails(id).then((venue) => {\n      if (venue && venue.location) {\n        places[index].venue = venue;\n        places[index].venue.updated = true; // Flag to indicate that this venue is already fetched\n        ctx.setState({places: places, focusedPlace: venue, showError: false});\n      } else\n        this.setState({showError: true});\n    }).catch((e) => {\n      this.setState({showError: true});\n    });\n  }\n\n  clearFocusedPlace() {\n    this.setState({focusedPlace: null});\n  }\n\n  onCloseErrorModal() {\n    this.setState({showError: false});\n  }\n\n  render() {\n    const {places, focusedPlace, query} = this.state;\n\n    let showingPlaces;\n    if (query) {\n      const match = new RegExp(escapeRegExp(query), 'i');\n      showingPlaces = places.filter((place) => match.test(place.venue.name));\n    } else {\n      showingPlaces = places;\n    }\n\n    return (\n      <div role=\"main\">\n        {/* Error modal */}\n        {this.state.showError && <div className=\"error-modal\">\n          <div className=\"error-modal-content\">\n            <span role={\"button\"} className=\"error-modal-close\" onClick={() => this.onCloseErrorModal()}>&times;</span>\n            <p>Failed to fetch data from Foursquare!</p>\n          </div>\n        </div>}\n\n        {/* Google map */}\n        <div role=\"application\" className=\"map-container\">\n          <ErrorBoundary>\n            <MyMapComponent ll={{lat: lat, lng: lng}}\n                            isMarkerShown={true}\n                            onUpdateFocusedPlace={(id) => this.updateFocusedPlace(id)}\n                            places={showingPlaces}\n                            focusedPlace={focusedPlace}\n                            clearFocusedPlace={() => this.clearFocusedPlace()}/>\n          </ErrorBoundary>\n        </div>\n        {/* Search panel */}\n        <PanelComponent places={showingPlaces}\n                        query={query}\n                        onQueryChange={(e) => this.updateQuery(e.target.value)}\n                        onUpdateFocusedPlace={(id) => this.updateFocusedPlace(id)}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Montserrat', 'sans-serif']\n  }\n});\n\nReactDOM.render(<BrowserRouter basename=\"/neighborhood-map/\"><App /></BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}